\documentclass[a4wide,11pt]{article}
\usepackage[a4paper, total={6in, 8in}]{geometry}
\usepackage[dvips]{graphicx}
\usepackage{url}
\usepackage{epstopdf}
\usepackage{float}
\usepackage{csvsimple}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{fancyhdr}
\usepackage{graphicx}

\usepackage{xcolor}
\usepackage{textcomp}

\usepackage{pgfgantt}

\usepackage{enumitem}

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\pagestyle{fancy}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
}
\urlstyle{same}


\definecolor{barblue}{RGB}{153,204,254}
\definecolor{groupblue}{RGB}{51,102,254}
\definecolor{linkred}{RGB}{165,0,33}
\definecolor{statusred}{RGB}{204,0,0}
\definecolor{statusgreen}{RGB}{0,153,0}
\definecolor{statusorange}{RGB}{245,184,0}
\definecolor{statusyellow}{RGB}{255,255,61}
\renewcommand\sfdefault{phv}
%\renewcommand\mddefault{mc} % this causes bold, italic, .. not to be displayed
\renewcommand\bfdefault{bc}
\setganttlinklabel{s-s}{START-TO-START}
\setganttlinklabel{f-s}{FINISH-TO-START}
\setganttlinklabel{f-f}{FINISH-TO-FINISH}
\sffamily

\usepackage{titling}

\pretitle{%
    \begin{center}
    \LARGE
    \includegraphics[scale=1.2]{logo/INDIGO_logo_transparent.png}\\[\bigskipamount]
}
\posttitle{\end{center}}


\begin{document}

\newcommand{\greenbox}[1]{\colorbox{statusgreen!90}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\graybox}[1]{\colorbox{gray!90}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\lightgraybox}[1]{\colorbox{gray!40}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\redbox}[1]{\colorbox{statusred}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\orangebox}[1]{\colorbox{statusorange}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\yellowbox}[1]{\colorbox{statusyellow}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}

\title{Software Quality Assurance (SQA) Report \\[0.7em] \large{22-26 Aug 2016}\\[1.5em] 
       \huge{\texttt{indigo-kepler (INDIGO Plug-ins for scientific workflow systems)}}\\
}

\date{} 
\maketitle

\Large
\vspace{-3em}
\begin{center}
    \graybox{\strut SQA Progress Status}\greenbox{\strut COMPLETE}\\[0.5em]\greenbox{\strut \begin{huge}90\% done\end{huge}} 
\end{center}

\vspace{4em}

\large
\begin{center}
\begin{tabular}{ll}
    \hyperref[sec:repository]{GitHub repository} & \greenbox{COMPLETE} \\
    \hyperref[sec:code_style]{Code style adherence} & \greenbox{COMPLETE} \\
    \hyperref[sec:unit_test]{Code coverage} & \graybox{86\%}\\ 
    \hyperref[sec:func_int_test]{Functional/integration testing} & \greenbox{COMPLETE} \\
    \hyperref[sec:gitbook]{GitBook documentation} & \greenbox{COMPLETE} \\
    \hyperref[sec:configuration]{Automated deployment} & \greenbox{COMPLETE} \\
\end{tabular}
\end{center}


\normalsize 
\newpage

\part{Task Progress for the 1st Release}

%
% OpenProject tasks - pgfgantt
%
\hspace{-5em}
\begin{ganttchart}[
    canvas/.append style={fill=none, draw=black!5, line width=.75pt},
    hgrid style/.style={draw=black!5, line width=.75pt},
    vgrid={*1{draw=black!5, line width=.75pt}},
    today=12,
    today rule/.style={
    draw=black!64,
    dash pattern=on 3.5pt off 4.5pt,
    line width=1.5pt
    },
    today label font=\small\bfseries,
    title/.style={draw=none, fill=none},
    title label font=\bfseries\footnotesize,
    title label node/.append style={below=7pt},
    include title in canvas=false,
    bar label font=\mdseries\small\color{black!70},
    bar label node/.append style={left=2cm},
    bar/.append style={draw=none, fill=black!63},
    bar incomplete/.append style={fill=barblue},
    bar progress label font=\mdseries\footnotesize\color{black!70},
    group incomplete/.append style={fill=groupblue},
    group left shift=0,
    group right shift=0,
    group height=.5,
    group peaks tip position=0,
    group label node/.append style={left=.6cm},
    group progress label font=\bfseries\small,
    link/.style={-latex, line width=1.5pt, linkred},
    link label font=\scriptsize\bfseries,
    link label node/.append style={below left=-2pt and 0pt}
]{1}{12}
    \gantttitle[
        title label node/.append style={below left=7pt and -3pt}
    ]{WEEKS:\quad1}{1}
    \gantttitlelist{2,...,12}{1} \\
    \ganttgroup[progress=90]{\textbf{\#3530} indigo-kepler SQA FOR 1ST RELEASE}{1}{12} \\
            \ganttbar[
            progress=100,
            name=WBS1A
        ]{\textbf{\#3833} Repository synchronization}{1}{12} \\
            \ganttbar[
            progress=100,
            name=WBS1A
        ]{\textbf{\#3533} Code style specification}{1}{12} \\
            \ganttbar[
            progress=86,
            name=WBS1A
        ]{\textbf{\#3536} Unit testing coverage}{1}{12} \\
            \ganttbar[
            progress=100,
            name=WBS1A
        ]{\textbf{\#3539} Functional and integration testing coverage}{1}{12} \\
            \ganttbar[
            progress=100,
            name=WBS1A
        ]{\textbf{\#3542} Configuration management}{1}{12} \\
            \ganttbar[
            progress=50,
            name=WBS1A
        ]{\textbf{\#3545} GitBook documentation}{1}{12} \\
     [grid]
\end{ganttchart}

%\newpage

\input{templates/title_repository.tex}
\label{sec:repository}
Repository exists under \texttt{indigo-dc} GitHub organization:
    \begin{itemize}
        \item \url{https://github.com/indigo-dc/indigoclient}\
        \item \url{https://github.com/indigo-dc/indigokepler}\
        \end{itemize}


\input{templates/title_codestyle.tex}
\label{sec:code_style}
\begin{tabular}{ll}
    Code style definition &
        \href{http://web.archive.org/web/20090911103851/http://java.sun.com/docs/codeconv/html/CodeConvTOC.doc.html}{Code Conventions for the JavaTM Programming Language} \\
    Community/de-facto standard &
        \graybox{Yes} \\ 
    Exceptions & 
        \graybox{3 (ignoreConstructorParameter, ignoreSetter, ignoreAnnotationCanonicalNames)} \\
    Richness & \graybox{\strut 63} \hspace{0.3em} \graybox{\strut Errors 63} \graybox{\strut Warnings 0} \href{https://raw.githubusercontent.com/checkstyle/checkstyle/master/src/main/resources/sun_checks.xml}{link}
\end{tabular}

\subsection{Build status}
Last build status on Jenkins CI
\href{https://jenkins.indigo-datacloud.eu:8080//job/indigokepler-codestyle/6}{indigokepler-codestyle}.


 
 
\input{templates/title_unittest.tex}
\label{sec:unit_test}

\begin{center}
% Trend graph (jenkins)
\textbf{Trend graph}\par\medskip
\includegraphics[scale=0.5]{/srv/sqa-reports/build/figs/graph_indigoclient-unittest.png}
\\
%\vspace{0.5em}
% Cobertura report (gantt chart)
%\textbf{Cobertura report}\par\medskip
\begin{ganttchart}[
    canvas/.append style={fill=none, draw=black!5, line width=.75pt},
    hgrid style/.style={draw=black!5, line width=.75pt},
    vgrid={*1{draw=black!5, line width=.75pt}},
    title/.style={draw=none, fill=none},
    %title label font=\bfseries\footnotesize,
    title label font=\normalsize,
    title label node/.append style={below=7pt},
    include title in canvas=false,
    bar label font=\mdseries\small\color{black!70},
    bar label node/.append style={left=2cm},
    bar/.append style={draw=none, fill=black!63},
    bar incomplete/.append style={fill=barblue},
    bar progress label font=\mdseries\footnotesize\color{black!70},
    group incomplete/.append style={fill=groupblue},
    group left shift=0,
    group right shift=0,
    group height=.5,
    group peaks tip position=0,
    group label node/.append style={left=.6cm},
    group progress label font=\bfseries\small,
    link/.style={-latex, line width=1.5pt, linkred},
    link label font=\scriptsize\bfseries,
    link label node/.append style={below left=-2pt and 0pt}
    ]{1}{5}
    \gantttitle{Cobertura Report}{-3} \\
    %\ganttgroup[progress=45]{Group 1}{1}{12} \\
            \ganttbar[progress=100.0]{Packages (4.0/4.0)}{1}{3} \\
            \ganttbar[progress=100.0]{Files (18.0/18.0)}{1}{3} \\
            \ganttbar[progress=100.0]{Classes (20.0/20.0)}{1}{3} \\
            \ganttbar[progress=96.75676]{Methods (179.0/185.0)}{1}{3} \\
            \ganttbar[progress=95.419846]{Lines (625.0/655.0)}{1}{3} \\
            \ganttbar[progress=91.111115]{Conditionals (82.0/90.0)}{1}{3} \\
     [grid]
\end{ganttchart}
\end{center}

\subsection{Build status}
    Last build status on Jenkins CI \href{https://jenkins.indigo-datacloud.eu:8080//job/indigoclient-unittest/7}{indigoclient-unittest}.
    
\subsection{Observations}
\begin{itemize}
        \item For indigo-dc/indigokepler, there are no unit tests. Actors are just proxies for indigoclient calls. Actors work only as part of Kepler platform.
        \item Conditional coverage is the one at 86\%, above the 70% threshold.
    \end{itemize}



\input{templates/title_functional_integration.tex}
\label{sec:func_int_test}

No automated execution, reports are being provided.

\subsection{Test coverage}
\begin{enumerate}
        \item Connection to FG
        \item Listing all appliactions
        \item Getting details about specific application
        \item Creation of a simplest task (no parameters, just run and get standard output)
        \item Creation of a task with input files
        \item {'Full cycle': "submission of a task with input and output files, then waiting until it's finished"}
        \item Listing all tasks
        \item Getting details about specific task
        \item Deleting a task
    \end{enumerate}

\subsection{Reports}
Functional report/s available:
\begin{itemize}
        \item \href{https://owncloud.indigo-datacloud.eu/index.php/apps/files/?dir=%2FINDIGO-DC%20testing%20reports%2Fintegration%2Findigo_1%2FINDIGO%20Kepler}{owncloud report}
    \end{itemize}



\input{templates/title_gitbook.tex}
\label{sec:gitbook}
Documentation available under \texttt{indigo-dc} GitBook organization: \vspace{0.1em} \begin{center}\url{https://indigo-dc.gitbooks.io/indigokepler/content/}\end{center} 
\subsection{Types of documentation currently provided}
\begin{center}
\graybox{\strut Readme}
\end{center}
\subsection{Observations}
\begin{itemize}
        \item Points to improve in the documentation: \begin{itemize} \item Please provide a description of each of the indigo actors \item does any user documentation fit here? Anything that the user of this component should know in order to use indigo actors? If not, please provide links to relevant kepler project docs. \item Please provide developer documentation, mainly how to contribute, etc. \end{itemize}
    \end{itemize}


\input{templates/title_configuration.tex}
\label{sec:configuration}

\begin{center}
\begin{tabular}{ll}
    Tool & \graybox{ansible} \\
    Deployment coverage & \graybox{installation/configuration} \\
    Manifest link & \url{https://github.com/indigo-dc/ansible-role-kepler} \\
\end{tabular}
\end{center}

Product does not currently have an automated deployment at INDIGO-DataCloud's Jenkins CI.

\subsection{Observations}
\begin{itemize}
        \item The Ansible playbook made available, The Readme needs to be updated and also, eventually, implemented in a Jenkins job by WP3.
    \end{itemize}


\newpage
\input{templates/title_annex.tex}

\end{document}