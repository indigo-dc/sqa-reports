\documentclass[a4wide,11pt]{article}
\usepackage[a4paper, total={6in, 8in}]{geometry}
\usepackage[dvips]{graphicx}
\usepackage{url}
\usepackage{epstopdf}
\usepackage{float}
\usepackage{csvsimple}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{fancyhdr}
\usepackage{graphicx}

\usepackage{xcolor}
\usepackage{textcomp}

\usepackage{pgfgantt}

\usepackage{enumitem}

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\pagestyle{fancy}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
}
\urlstyle{same}


\definecolor{barblue}{RGB}{153,204,254}
\definecolor{groupblue}{RGB}{51,102,254}
\definecolor{linkred}{RGB}{165,0,33}
\definecolor{statusred}{RGB}{204,0,0}
\definecolor{statusgreen}{RGB}{0,153,0}
\definecolor{statusorange}{RGB}{245,184,0}
\definecolor{statusyellow}{RGB}{255,255,61}
\renewcommand\sfdefault{phv}
%\renewcommand\mddefault{mc} % this causes bold, italic, .. not to be displayed
\renewcommand\bfdefault{bc}
\setganttlinklabel{s-s}{START-TO-START}
\setganttlinklabel{f-s}{FINISH-TO-START}
\setganttlinklabel{f-f}{FINISH-TO-FINISH}
\sffamily

\usepackage{titling}

\pretitle{%
    \begin{center}
    \LARGE
    \includegraphics[scale=1.2]{logo/INDIGO_logo_transparent.png}\\[\bigskipamount]
}
\posttitle{\end{center}}


\begin{document}

\newcommand{\greenbox}[1]{\colorbox{statusgreen!90}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\graybox}[1]{\colorbox{gray!90}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\lightgraybox}[1]{\colorbox{gray!40}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\redbox}[1]{\colorbox{statusred}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\orangebox}[1]{\colorbox{statusorange}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}
\newcommand{\yellowbox}[1]{\colorbox{statusyellow}{\textcolor{white!90}{\textsf{\textbf{#1}}}}}

\title{Software Quality Assurance (SQA) Report \\[0.7em] \large{22-26 Aug 2016}\\[1.5em] 
       \huge{\texttt{fgAPIServer (FutureGateway API Server)}}\\
}

\date{} 
\maketitle

\Large
\vspace{-3em}
\begin{center}
    \graybox{\strut SQA Progress Status}\redbox{\strut NOT COMPLETE}\\[0.5em]\redbox{\strut \begin{huge}62\% done\end{huge}} 
\end{center}

\vspace{4em}

\large
\begin{center}
\begin{tabular}{ll}
    \hyperref[sec:repository]{GitHub repository} & \greenbox{COMPLETE} \\
    \hyperref[sec:code_style]{Code style adherence} & \redbox{NOT COMPLETE} \\
    \hyperref[sec:unit_test]{Code coverage} & \graybox{0\%}\\ 
    \hyperref[sec:func_int_test]{Functional/integration testing} & \greenbox{COMPLETE} \\
    \hyperref[sec:gitbook]{GitBook documentation} & \redbox{NOT COMPLETE} \\
    \hyperref[sec:configuration]{Automated deployment} & \redbox{NOT COMPLETE} \\
\end{tabular}
\end{center}


\normalsize 
\newpage

\part{Task Progress for the 1st Release}

%
% OpenProject tasks - pgfgantt
%
\hspace{-5em}
\begin{ganttchart}[
    canvas/.append style={fill=none, draw=black!5, line width=.75pt},
    hgrid style/.style={draw=black!5, line width=.75pt},
    vgrid={*1{draw=black!5, line width=.75pt}},
    today=12,
    today rule/.style={
    draw=black!64,
    dash pattern=on 3.5pt off 4.5pt,
    line width=1.5pt
    },
    today label font=\small\bfseries,
    title/.style={draw=none, fill=none},
    title label font=\bfseries\footnotesize,
    title label node/.append style={below=7pt},
    include title in canvas=false,
    bar label font=\mdseries\small\color{black!70},
    bar label node/.append style={left=2cm},
    bar/.append style={draw=none, fill=black!63},
    bar incomplete/.append style={fill=barblue},
    bar progress label font=\mdseries\footnotesize\color{black!70},
    group incomplete/.append style={fill=groupblue},
    group left shift=0,
    group right shift=0,
    group height=.5,
    group peaks tip position=0,
    group label node/.append style={left=.6cm},
    group progress label font=\bfseries\small,
    link/.style={-latex, line width=1.5pt, linkred},
    link label font=\scriptsize\bfseries,
    link label node/.append style={below left=-2pt and 0pt}
]{1}{12}
    \gantttitle[
        title label node/.append style={below left=7pt and -3pt}
    ]{WEEKS:\quad1}{1}
    \gantttitlelist{2,...,12}{1} \\
    \ganttgroup[progress=62]{\textbf{\#3809} fgAPIServer SQA FOR 1ST RELEASE}{1}{12} \\
            \ganttbar[
            progress=100,
            name=WBS1A
        ]{\textbf{\#3812} Repository synchronization}{1}{12} \\
            \ganttbar[
            progress=70,
            name=WBS1A
        ]{\textbf{\#3815} Code style specification}{1}{12} \\
            \ganttbar[
            progress=0,
            name=WBS1A
        ]{\textbf{\#3818} Unit testing coverage}{1}{12} \\
            \ganttbar[
            progress=100,
            name=WBS1A
        ]{\textbf{\#3821} Functional and integration testing coverage}{1}{12} \\
            \ganttbar[
            progress=50,
            name=WBS1A
        ]{\textbf{\#3824} Configuration management}{1}{12} \\
            \ganttbar[
            progress=50,
            name=WBS1A
        ]{\textbf{\#3827} GitBook documentation}{1}{12} \\
     [grid]
\end{ganttchart}

%\newpage

\input{templates/title_repository.tex}
\label{sec:repository}
Repository exists under \texttt{indigo-dc} GitHub organization:
    \begin{itemize}
        \item \url{https://github.com/indigo-dc/fgAPIServer}\
        \item \url{https://github.com/indigo-dc/APIServerDaemon}\
        \end{itemize}


\input{templates/title_codestyle.tex}
\label{sec:code_style}
\begin{tabular}{ll}
    Code style definition &
        \href{https://www.python.org/dev/peps/pep-0008/}{PEP 8 -- Style Guide for Python Code} \\
    Community/de-facto standard &
        \graybox{Yes} \\ 
    Exceptions & 
        \graybox{0} \\
    Richness & \graybox{\strut 73} \hspace{0.3em} \graybox{\strut Errors 63} \graybox{\strut Warnings 10} \href{http://pep8.readthedocs.io/en/latest/intro.html#error-codes}{link}
\end{tabular}
 \\[1.5em]\begin{tabular}{ll}
    Code style definition &
        \href{http://web.archive.org/web/20090911103851/http://java.sun.com/docs/codeconv/html/CodeConvTOC.doc.html}{Code Conventions for the JavaTM Programming Language} \\
    Community/de-facto standard &
        \graybox{Yes} \\ 
    Exceptions & 
        \graybox{0} \\
    Richness & \graybox{\strut 63} \hspace{0.3em} \graybox{\strut Errors 63} \graybox{\strut Warnings 0} \href{https://raw.githubusercontent.com/checkstyle/checkstyle/master/src/main/resources/sun_checks.xml}{link}
\end{tabular}

\subsection{Build status}
Last build status on Jenkins CI
\href{https://jenkins.indigo-datacloud.eu:8080//job/fgapiserverdaemon-codestyle/8}{fgapiserverdaemon-codestyle}.
\href{https://jenkins.indigo-datacloud.eu:8080//job/fgapiserver-codestyle/15}{fgapiserver-codestyle}.

\subsection{Observations}
\begin{itemize}
        \item Product \texttt{APIServerDaemon} \textit{is not} compliant with Java Sun Style guide.
    \end{itemize}

 
 
\input{templates/title_unittest.tex}
\label{sec:unit_test}


\subsection{Observations}
\begin{itemize}
        \item Cannot define a Jenkins job to check the only test written so far \texttt{./tests/test\_mklogtoken.py} since this test is malformed, meaning that it tries to import modules as it were a Python package but it is not.
    \end{itemize}



\input{templates/title_functional_integration.tex}
\label{sec:func_int_test}

No automated execution, reports are being provided.

\subsection{Test coverage}
\begin{enumerate}
        \item API functionalities being tested \\url{https://github.com/indigo-dc/FutureGateway-APIs/blob/master/apiary.apib} (fgAPIServer).
        \item Obtaining/using a token (fgAPIServer).
        \item Submit a task (APIServerDaemon).
    \end{enumerate}

\subsection{Reports}
Functional report/s available:
\begin{itemize}
        \item \href{https://owncloud.indigo-datacloud.eu/index.php/apps/files/ajax/download.php?dir=%2FINDIGO-DC%20testing%20reports%2Ffunctional%2Findigo_1%2FFutureGateway&files=FutureGateway_functional_tests.docx}{owncloud report}
    \end{itemize}

\subsection{Observations}
\begin{itemize}
        \item Team has provided reports of manual functional tests being performed. Automated functionality testing has not been provided.
    \end{itemize}


\input{templates/title_gitbook.tex}
\label{sec:gitbook}
Documentation available under \texttt{indigo-dc} GitBook organization: \vspace{0.1em} \begin{center}\url{https://www.gitbook.com/book/ricsxn/futuregateway/details}\end{center} 
\subsection{Types of documentation currently provided}
\begin{center}
\graybox{\strut Installation}
\graybox{\strut Usage}
\end{center}
\subsection{Observations}
\begin{itemize}
        \item Points to improve in the documentation: \begin{itemize} \item Documentation is still not available at indigo-dc \item Align documentation sections to the ones defined in [1], in case you need to add different sections, do it at the end. \item README (or somewhere else) \begin{itemize} \item How does this interface with the INDIGO PaaS ? \item Provide example of authentication with the INDIGO IAM \end{itemize} \item Deployment guide \begin{itemize} \item Only covers Ubuntu 14.04, Centos7 must be documented as well \item Installation from source is the only form of deployment documented. This must be completed to cover installation using INDIGO repository. \item There is a typo in the URL pointed at wget https://github.com/FutureGateway/PortalSetup/raw/master/Ubuntui\_14.04/fgSetup.sh \item what is the usefulness of the fgTools to the user communities and/or site admins ? how and when to use them ? \item TCP ports that need to be exposed and to which services \end{itemize} \item User guide \begin{itemize} \item How to register and manage users ? \item How to define the universe of resources available to execute the tasks and their properties \item What does it mean GridEngine? is the SGE batch system or is an engine to submit to grid sites ? \item Where is the documentation about the adaptors? add pointers to the docs. \end{itemize} \item Regarding PortalSetup \begin{itemize} \item Not clear if it works with CentOS7 (\textit{EL6/7 Tested with CentOS6}) and directory CentOS7 is not there (\textit{Please notice that OS specific intallation scripts are collected inside dedicated directories.}) \item Rephrase \textit{Debian Tested with Ubuntu} statement. \end{itemize} \end{itemize}
    \end{itemize}


\input{templates/title_configuration.tex}
\label{sec:configuration}

\begin{center}
\begin{tabular}{ll}
    Tool & \graybox{bash script} \\
    Deployment coverage & \graybox{installation/configuration} \\
    Manifest link & \url{None} \\
\end{tabular}
\end{center}

Product does not currently have an automated deployment at INDIGO-DataCloud's Jenkins CI.

\subsection{Observations}
\begin{itemize}
        \item Product does not provide an automated deployment solution based on Ansible or Puppet tools. For the time being, manual deployment is available following the documentation at GitBook.
        \item Deployment guidelines only cover Ubuntu14.04, not for CentOS7 distributions, which is also required by the project.
    \end{itemize}


\newpage
\input{templates/title_annex.tex}

\end{document}